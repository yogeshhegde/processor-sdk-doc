

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11.1. General Support &mdash; Processor SDK RTOS Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Processor SDK RTOS Documentation" href="../index.html"/>
        <link rel="up" title="11. Frequently Asked Questions" href="FAQ.html"/>
        <link rel="next" title="12. Documentation Tarball" href="Documentation_Tarball.html"/>
        <link rel="prev" title="11. Frequently Asked Questions" href="FAQ.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">
  <header id="tiHeader">
    <div class="top">
      <ul>
        <li id="top_logo">
          <a href="http://www.ti.com">
            <img src="../_static/img/ti_logo.png"/>
          </a>
        </li>
      </ul>
    </div>
    <div class="nav"></div>
  </header>
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Processor SDK RTOS
          

          
          </a>

          
            
            
              <div class="version">
                06_01_00
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Overview.html">1. Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="Release_Specific.html">2. Release Specific</a></li>
<li class="toctree-l1"><a class="reference internal" href="Board_EVM_Abstration.html">3. Board/EVM Abstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="Foundational_Components.html">4. Foundational Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="DSP_Software.html">5. DSP Software</a></li>
<li class="toctree-l1"><a class="reference internal" href="Device_Drivers.html">6. Device Drivers</a></li>
<li class="toctree-l1"><a class="reference internal" href="PRU_ICSS.html">7. PRU-ICSS Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="Compilers.html">8. Compilers</a></li>
<li class="toctree-l1"><a class="reference internal" href="Examples_and_Demonstrations.html">9. Examples and Demonstrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="How_to_Guides.html">10. How to Guides</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="FAQ.html">11. Frequently Asked Questions</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">11.1. General Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#training-and-documentation">11.2. Training and Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#host-and-target-setup">11.3. Host and Target Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#device-drivers">11.4. Device Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chip-support-library-csl">11.5. Chip Support Library (CSL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#board-support">11.6. Board Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#secondary-bootloader">11.7. Secondary Bootloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="#diagnostics">11.8. Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="#filesystem-support">11.9. Filesystem Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#ti-rtos">11.10. TI RTOS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#useful-resources">11.10.1. Useful Resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#networking-support">11.11. Networking Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="#inter-processor-communication-ipc">11.12. Inter-processor Communication (IPC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dsp-optimized-libraries">11.13. DSP-Optimized Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="#edma-library">11.14. EDMA Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="#c-build-verification">11.15. C++ Build Verification</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#platforms-supported">11.15.1. Platforms Supported</a></li>
<li class="toctree-l3"><a class="reference internal" href="#build-setup">11.15.2. Build Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="#steps-to-build">11.15.3. Steps to Build</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-application">11.15.4. Running the Application</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#training-and-documentation">11.16. Training and Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#host-and-target-setup">11.17. Host and Target Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#device-drivers">11.18. Device Drivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#chip-support-library-csl">11.19. Chip Support Library (CSL)</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#board-support">11.20. Board Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#secondary-bootloader">11.21. Secondary Bootloader</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#diagnostics">11.22. Diagnostics</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#filesystem-support">11.23. Filesystem Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#ti-rtos">11.24. TI RTOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#networking-support">11.25. Networking Support</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#inter-processor-communication-ipc">11.26. Inter-processor Communication (IPC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#dsp-optimized-libraries">11.27. DSP-Optimized Libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#edma-library">11.28. EDMA Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#dmsc-sysfw">11.29. DMSC/SYSFW</a></li>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#smp-examples">11.30. SMP Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Documentation_Tarball.html">12. Documentation Tarball</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Processor SDK RTOS</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="FAQ.html">11. Frequently Asked Questions</a> &raquo;</li>
      
    <li>11.1. General Support</li>
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="general-support">
<h1>11.1. General Support<a class="headerlink" href="#general-support" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="what-are-the-advantages-of-using-the-processor-sdk-rtos-software">What are the main advantages of using the Processor SDK RTOS
software?</p>
<p>Here are some key features of the Processor SDK RTOS that maximize
software reuse for application developers:</p>
<ul class="simple">
<li><p><strong>Common API Interface</strong>: Processor SDK RTOS software is designed to
maximize application software reuse and reduce the time to market for
end application developers. It provides a unified approach to
software by maintaining a common API interface in low-level drivers,
inter-processor communication (IPC) drivers, and optimized libraries
across all supported platforms. The API interface also enables ease
of migration for TI MCU customers moving to TI ARM or DSP platforms
by maintaining the same API interface for common IPs like SPI, I2C,
UART,etc.</p></li>
<li><p><strong>Ease of Migration to Custom Platform</strong>: Processor SDK RTOS
consolidates all board-specific software into a single software
component referred to as the “board library”. All of the other
components rely on this board library to configure the underlying
hardware. Migration to a custom platform requires only modification
of the board library.</p></li>
<li><p><strong>Integrated Board Diagnostic Software</strong>: The board diagnostic
software included in the SDK allows for quick validation of the board
functionality using bare-metal (no-OS) unit tests.</p></li>
<li><p><strong>Reduces Need to Relearn TI Software</strong>: All future software releases
for TI SoC platforms will use this software methodology and will
maintain the common API interface for a given peripheral. Application
developers who have already developed their software on one of TI`s
Processors using Processor SDK will not need to re-learn working with
the TI software.</p></li>
<li><p><strong>Feature Addition and Reduced Software Costs</strong>: Due to the ease of
migration of baseline software across platforms, developers can spend
more time customizing their application and add more features to
enhance it. This also helps to reduce the duration of the application
development cycle and helps reduce software development costs.</p></li>
<li><p><strong>Quarterly Software Updates</strong>: Processor SDK RTOS is updated every
three months with bug fixes, new features, and new platform support.
Users can subscribe to updates by using the “Alert Me” button for the
package from the software download page on ti.com.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you are unable to locate the “Alert Me” option, please check
the screenshot here:</p>
</div>
<img alt="../_images/Alert_Me.png" src="../_images/Alert_Me.png" />
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="how-do-i-make-a-feature-request-or-file-bugs-for-processor-sdk-rtos">How do I make a feature request or file bugs for Processor
SDK RTOS?</p>
<p>TI E2E device-specific forums can be used to report a bug or a feature
addition request:</p>
<ul class="simple">
<li><p><a href="#id1"><span class="problematic" id="id2">`E2E Processor Support &lt;https://e2e.ti.com/support/processors/`_</span></a></p></li>
</ul>
<p class="rubric" id="how-do-i-know-the-list-of-known-issues-and-bugs-resolved-in-processor-sdk-rtos-release">How do I know the list of known issues and bugs resolved in
Processor SDK RTOS release?</p>
<p>The information on known issues and bug fixes in Processor SDK RTOS can
be found in the <a class="reference external" href="Release_Specific.html#release-notes">Release Notes</a>
for the version of the SDK you wish to use.</p>
<p class="rubric" id="i-am-a-current-sitara-starterware-user-should-i-migrate-to-processor-sdk-rtos">I am a current Sitara Starterware user. Should I migrate to
Processor SDK RTOS?</p>
<p>Starterware software is no longer active and will not have any further
releases. Existing starterware users should refer the following article
to determine the migration path: <a class="reference external" href="Release_Specific.html#migration-guide">Processor SDK RTOS Migration Guide
Wiki</a>.
For all new development, we recommend that users start with the
Processor SDK RTOS, which is currently under active development and
provides periodic updates and bug fixes.</p>
<p class="rubric" id="is-processor-sdk-rtos-replacing-mcsdk-how-do-i-migrate-from-mcsdk-to-processor-sdk-rtos-for-keystone-devices">Is Processor SDK RTOS replacing MCSDK? How do I migrate from
MCSDK to Processor SDK RTOS for KeyStone devices?</p>
<p>Yes. We recommend that for all new development, users should use
Processor SDK RTOS for application development. For existing users, the
Processor SDK RTOS provides an easy migration path for existing MCSDK
3.x (K2X) and MCSDK 2.x (C66xx) developers to move their application to
the new software package. For complete details please refer to the wiki
<a class="reference external" href="http://processors.wiki.ti.com/index.php/MCSDK_to_Processor_SDK_Migration#Processor_SDK_RTOS">MCSDK to Processor SDK RTOS
Migration</a>.</p>
<p class="rubric" id="how-do-i-download-earlier-version-of-processor-sdk-rtos">How do I download earlier version of Processor SDK RTOS?</p>
<p>The download page for every Processor SDK RTOS release contains links to
the previous release. Users can revert back to earlier releases using
this link provided under the section “Previous Release.”</p>
<p class="rubric" id="does-processor-sdk-rtos-release-support-all-device-part-numbers-in-supported-device-family">Does processor SDK RTOS release support all device part numbers in supported device family?</p>
<p>Processor SDK RTOS software is tested and validated on TI evaluation platforms that generally includes the superset part
in the device family however, the software components like CSL, LLD drivers and RTOS are applicable on reduced feature set
variant of the devices. Most of the code in the Processor SDK RTOS for multi-core devices is independent of how many cores
exists on the device as they provide baseline platform software that can be run from any core.</p>
<p>It is the users responsibility to modify components that deploy tasks/software on slave cores like OpenMP, OpenCL, IPC and MultiProc Manager
so that they use the feature set that is available on their device. In most cases software documentation will provide guidance on updating
the software package however this should not be considered a comprehensive list of software components to be updated
to run the software on a reduced feature set device variant.</p>
<p>Example: <a class="reference external" href="http://processors.wiki.ti.com/index.php/Processor_SDK_RTOS_Porting_Guide_for_AM571x/AM570x_Speed_Grades">Processor SDK RTOS porting guide for AM571x/AM570x Speed
Grades</a></p>
<p>Features noted as “not supported,” in device datasheet must not be used. Their functionality is not supported by TI for this
family of devices. These features are subject to removal without notice on future device revisions. Any information regarding
the unsupported features has been retained in the documentation solely for the purpose of clarifying signal names or for consistency
with previous feature descriptions.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="training-and-documentation">
<h1>11.2. Training and Documentation<a class="headerlink" href="#training-and-documentation" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="is-there-any-training-content-available-for-processor-sdk-rtos">Is there any training content available for Processor SDK
RTOS?</p>
<p>There are multiple Processor SDK RTOS training modules available online
as part of the <a class="reference external" href="https://training.ti.com/processor-sdk-training-series">Processor SDK Training
Series</a>. Link
to the complete series or refer to the direct links below:</p>
<p>Training URLs:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://training.ti.com/introduction-processor-sdk-rtos-part-1?cu=519268">Processor SDK RTOS Overview Part
I</a></p></li>
<li><p><a class="reference external" href="https://training.ti.com/introduction-processor-sdk-rtos-part-2?cu=519268">Processor SDK RTOS Overview Part
II</a></p></li>
<li><p><a class="reference external" href="https://training.ti.com/application-development-using-processor-sdk-rtos?cu=519268">Application Development Using Processor SDK
RTOS</a></p></li>
</ul>
<p class="rubric" id="what-documentation-exists-for-processor-sdk-rtos">What documentation exists for Processor SDK RTOS?</p>
<p>There are three main documents for Processor SDK RTOS:</p>
<ul class="simple">
<li><p><a class="reference internal" href="index_overview.html#processor-sdk-rtos-getting-started-guide-label"><span class="std std-ref">Getting Started Guide</span></a>
Provides information on setting up software and running basic
examples/demonstrations bundled within the Processor SDK.</p></li>
<li><p><a class="reference external" href="index.html#processor-sdk-rtos-software-developer-s-guide">Software Developer
Guide</a>:
Provides information on features, functions, delivery package, and
compile tools for the Processor SDK RTOS release. This guide also
provides detailed information regarding software elements and
software infrastructure to allow developers to start creating
applications.</p></li>
<li><p><a class="reference external" href="Release_Specific.html#migration-guide">Migration Guide</a>: Provides
migration information for applications built on top of the Processor
SDK for RTOS.</p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="host-and-target-setup">
<h1>11.3. Host and Target Setup<a class="headerlink" href="#host-and-target-setup" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="how-do-i-setup-the-build-environment-with-custom-processor-sdk-rtos-and-ccs-installation-paths-on-the-host-machine">How do I setup the build environment with custom Processor
SDK RTOS and CCS Installation paths on the host machine?</p>
<p>The steps to set up CCS and Processor SDK RTOS when the SDK or the IDE
is installed in a location other than the default location are described
below: <a class="reference external" href="How_to_Guides.html#setup-ccs-for-evm-and-processor-sdk-rtos">Processor SDK RTOS Setup with CCS</a></p>
<p><strong>A common gotcha while setting up the build environment is
compatibility with CCS version. Please refer to `Release
Notes &lt;Release_Specific.html#release-notes&gt;`__ for the
recommended version of CCS</strong></p>
<p class="rubric" id="can-i-install-multiple-versions-of-the-processor-sdk-rtos-in-the-same-folder">Can I install multiple versions of the Processor SDK RTOS in
the same folder?</p>
<p>Typically, the version numbers of most components (PDK, Processor SDK,
BIOS, XDC, etc.) will be updated in the newer release. However there are
components like DSPLIB, IMGLIB, etc. and EDMA drivers that may remain
the same. The safe option would be to install the most current Processor
SDK in a custom location. You can have multiple versions of the SDK for
different devices on your machine and install all of them in custom
folders. For example, if you have a project with AM335x and AM437x that
requires you to download the Processor SDK RTOS for those device, we
recommend that you install them under different directories say
C:\ti\PRSDK_AM3x and C:\ti\PRSDK_AM4x</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When you install the SDK in a custom location, there are few additional
steps to follow:</p>
<ul class="simple">
<li><p>CCS auto-detects components only in C:\ti path. So you will need to
add the custom path to discovery as described in <a class="reference external" href="How_to_Guides.html#setup-ccs-for-evm-and-processor-sdk-rtos">Setup
CCS</a>.</p></li>
<li><p>Assuming CCS is installed in the default path, the process to set the
custom SDK path while building the SDK is provided in <cite>Install in
Custom Path &lt;How_to_Guides.html#update-environment-when-installing-to-a-custom-path&gt;</cite></p></li>
</ul>
</div>
<p class="rubric" id="what-are-the-typical-flows-for-a-new-user-to-setup-the-processor-sdk-rtos-development-environment">What are the typical flows for a new user to setup the
Processor SDK RTOS development environment?</p>
<p>The typical Processor SDK RTOS setup steps have been described below:</p>
<p class="rubric" id="step-1-basic-hardware-sdk-and-ide-setup">Step 1: Basic Hardware, SDK, and IDE Setup</p>
<p>Setup the software and hardware as described in the <a class="reference internal" href="index_overview.html#processor-sdk-rtos-getting-started-guide-label"><span class="std std-ref">Getting Started
Guide</span></a>
At this stage, you should have the CCS IDE environment, the Processor
SDK RTOS installed and be able to connect to your target using an
emulator.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you have installed CCS and/or the Processor SDK RTOS in a custom
location, you need to manually add the SDK install path to CCS as
described here
<a class="reference external" href="How_to_Guides.html#ccs-and-sdk-installed-in-different-directories">CCS_and_SDK_installed_in_different_directories</a></p>
</div>
<p class="rubric" id="step-2-run-the-out-of-box-examples-or-diagnostics">Step 2: Run the Out-of-Box Examples or Diagnostics</p>
<p>The SDK and CCS ships with some pre-built out-of-box
demonstrations/examples that can be flashed on to the EVM, copied over
to an SD card, or loaded over emulator so that you can bring up and test
the EVM hardware. The steps to flash and run the out-of-box examples are
described here:</p>
<ul class="simple">
<li><p><a class="reference external" href="Examples_and_Demonstrations.html#examples-and-demonstrations">Running_examples.2Fdemonstrations</a></p></li>
</ul>
<p class="rubric" id="step-3-build-environment-setup">Step 3: Build Environment Setup</p>
<p>Processor SDK RTOS provides a script to set up the Windows and Linux
environment with the component and compiler PATHs. Running the script
and rebuilding the Processor SDK from the root directory is described in
the wiki article <cite>Setup build Environment &lt;Overview.html#setup-environment&gt;</cite>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>The script assumes that CCS and Processor SDK RTOS are installed in
the default location. If you have installed CCS and/or the Processor
SDK RTOS in a custom location, then modify the setup file to the
custom path. Please setup the environment using the steps described
in the wiki article
<a class="reference external" href="How_to_Guides.html#update-environment-when-installing-to-a-custom-path">Processor SDK RTOS Install in Custom Path</a></p></li>
<li><p>After the script executes, it prints all the PATH macros set for the
different variables. Be sure that the compiler and component paths
have been setup correctly.</p></li>
</ul>
</div>
<p class="rubric" id="step-4-rebuilding-the-sdk">Step 4: Rebuilding the SDK</p>
<p>The critical device-specific components of the Processor SDK RTOS can be
rebuilt from the top-level make file provided in the root directory
processor_sdk_rtos_x_xx_xx_xx. Invoking the build and available options
from top-level make files is described in the wiki article <a class="reference external" href="Overview.html#top-level-makefile">Rebuilding
SDK
Components</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The SDK offers command line build for all the components. CCS projects
are only supported for DSP libraries and PDK driver examples.</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="step-5-generate-and-run-peripheral-driver-examples">Step 5: Generate and Run Peripheral Driver Examples</p>
<p>The PDK component in Processor SDK RTOS provides drivers for different
IPs on the SOC and provides unit tests and examples for the drivers to
test them on a specific board/hardware. These examples do not ship with
pre-generated CCS projects and require users to generate a project
create script to generate the CCS project for the unit tests. The
procedure to generate the CCS projects for a given SOC is described in
this article
<a class="reference external" href="How_to_Guides.html#pdk-example-and-test-project-creation">PDK_Example_and_Test_Project_Creation</a>.</p>
<p class="rubric" id="step-6-exploring-other-components-in-the-sdk">Step 6: Exploring Other Components in the SDK</p>
<p>The SDK package includes several other components that allow application
developers to develop software for multi-core devices. This includes an
inter-processor communication component known as (IPC). For SOCs that
contain an C66x DSP, the SDK provides several optimized DSP libraries
(DSPLIB, MATHLIB and IMGLIB). These components also ship with pre-built
examples that can be built using build steps described in their
documentation that is linked at the top level <a class="reference external" href="index.html#processor-sdk-rtos-software-developer-s-guide">Software Developer
Guide</a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="how-can-i-optimize-the-build-time-when-rebuilding-the-processor-sdk-rtos">How can I optimize the build time when rebuilding the
Processor SDK RTOS ?</p>
<p>Processor SDK RTOS top level build will rebuild IPC, all components
inside the PDK package for all supported cores and evaluation platforms.
Building all components can cause long build times. If you wish to only
rebuild a section of the package, the build times can be significantly
optimized if you invoke make for specific components in the SDK instead
of making all components. Also, for the PDK users can invoke the build
using the following syntax</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">make</span> <span class="n">LIMIT_BOARDS</span><span class="o">=</span><span class="s">&quot;&lt;BOARD&gt;&quot;</span> <span class="n">LIMIT_SOCS</span><span class="o">=</span><span class="s">&quot;&lt;SOC&gt;&quot;</span> <span class="n">LIMIT_CORES</span><span class="o">=</span><span class="s">&quot;&lt;CORE&gt;&quot;</span>
</pre></div>
</div>
<p><strong>SOC</strong> can be am335x, am437x, am571x, am572x, k2g,k2h,k2e, etc.</p>
<p><strong>CORE</strong> can be “a15_0”, “c66x”, or “ipu1_0”, for a15, c66, m4
respectively.</p>
<p><strong>BOARD</strong> can be any evaluation hardware platform that your SOC
supports.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">For</span> <span class="nl">Example</span><span class="p">:</span>
<span class="n">make</span> <span class="n">LIMIT_BOARDS</span><span class="o">=</span><span class="s">&quot;evmK2G iceK2G&quot;</span> <span class="n">LIMIT_SOCS</span><span class="o">=</span><span class="s">&quot;k2g&quot;</span> <span class="n">LIMIT_CORES</span><span class="o">=</span><span class="s">&quot;a15_0&quot;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="why-am-i-not-able-to-connect-to-the-dsp-core-in-ccs-when-linux-is-booted-on-keystone-ii-devices">Why am I not able to connect to the DSP core in CCS when
Linux is booted on KeyStone II devices?</p>
<p>The U-boot code that is booted before booting Linux puts the DSP core in
reset. In order to connect to the DSP, you need to run a GEL script in
CCS as described in this article
<a class="reference external" href="How_to_Guides.html#taking-the-c66x-out-of-reset-with-linux-running-on-the-arm-a15">Taking_the_C66x_Out_Of_Reset_with_Linux_Running_on_the_ARM_A15</a>.</p>
<p class="rubric" id="how-can-i-create-a-sd-card-for-processor-sdk-rtos">How can I create a SD card for Processor SDK RTOS?</p>
<p>Many of the TI-supported EVMs ship with an SD card with Linux Booting as
part of the EVM out-of-box experience. Users are required to create a
separate SD card if they want to boot their EVM with Processor SDK RTOS
out-of-box demonstrations or run board diagnostics. The procedure to
create an SD differs depending on whether you are doing this on a
Windows or Linux host machine, as described in the two articles shown
here:</p>
<ul class="simple">
<li><p><a class="reference external" href="Overview.html#windows-sd-card-creation-guide">Create an SD card on Windows Host (AMx, K2G only)</a></p></li>
<li><p><a class="reference external" href="Overview.html#linux-sd-card-creation-guide">Create an SD card on Linux Host (AMx, K2G only)</a></p></li>
</ul>
<p class="rubric" id="how-can-i-restore-the-firmware-on-my-evm-to-factory-settings">How can I restore the firmware on my EVM to factory
settings?</p>
<p>Most of the Sitara EVMs ship with a bootable SD card that boots Linux.
To restore the EVM to factory settings, simply reflash the SD card with
the bootable image using the <a class="reference external" href="http://processors.wiki.ti.com/index.php/Processor_SDK_Linux_create_SD_card_script">SD Card Creation
Script</a>
provided in Processor SDK Linux.</p>
<p>For KeyStone Devices, the Processor SDK RTOS provides a <a class="reference external" href="How_to_Guides.html#default-binaries-and-setup">Program EVM
Script</a>
with default binaries that reflash images on EEPROM, SPI, and/or NAND
(depending on the EVM platform used).</p>
<p class="rubric" id="can-i-run-processor-sdk-rtos-on-beaglebone">Can I run Processor SDK RTOS on BeagleBone?</p>
<p>Yes, Processor SDK RTOS software can be used to develop and run code on
BeagleBone platform. In order to test Processor SDK RTOS software on
BeagleBone, you will need to connect a JTAG to the BeagleBone. With the
default configuration of the board, we have observed that connecting a
JTAG causes a reset. Users need to follow the procedure provided here to
prevent a reset from occurring.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://elinux.org/Beagleboard:BeagleBone#Board_Reset_on_JTAG_Connect.28A3.2CA4.2CA5.29">Preventing a Reset When Connecting a JTAG on
BeagleBone</a></p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="device-drivers">
<h1>11.4. Device Drivers<a class="headerlink" href="#device-drivers" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="how-do-i-find-out-if-a-driver-is-supported-in-the-package-for-my-device">How do I find out if a driver is supported in the package
for my device?</p>
<p>For all SoC and board-specific driver support, we recommend that you
refer to the <a class="reference external" href="Release_Specific.html#supported-platforms">Release Notes</a>
corresponding to your release.</p>
<p>If you need further details for driver support on all cores on
heterogeneous multi-core devices, please reach out to the engineering
team using <a class="reference external" href="http://e2e.ti.com/support/">E2E forums</a>.</p>
<p class="rubric" id="where-can-i-find-example-projects-for-device-drivers">Where can I find example projects for device drivers?</p>
<p>The PDK package in processor SDK RTOS does not contain pre-canned CCS
projects for driver examples. But it does provide scripts to set up the
development environment and create the example CCS projects based on
that setup. This allows the SDK the flexibility to create CCS projects
based on the user-specific host setup. In order to create the example
projects, users can follow the sequence provided below:</p>
<ol class="arabic simple">
<li><p>Users are required to setup their development environment using
<a class="reference external" href="Overview.html#setup-environment">Processor SDK RTOS Setup</a></p></li>
<li><p>Setup the PDK build environment <a class="reference external" href="How_to_Guides.html#building-pdk-using-gmake-in-windows-environment">PDK
Setup</a>.</p></li>
<li><p>Execute the PdkProjectCreate script in ${PDK_INSTALL_PATH}/packages
as described on the <a class="reference external" href="How_to_Guides.html#pdk-example-and-test-project-creation">PDK Example and Test Project Creation
wiki</a></p></li>
</ol>
<p class="rubric" id="what-is-the-difference-between-soc-specific-driver-library-and-the-soc-independent-generic-core-specific-driver-library">What is the difference between SOC-specific driver library
and the SOC-independent (Generic core-specific) driver library?</p>
<p>Each low level driver (LLD) in the PDK package contains two versions of
the driver library. The naming conventions are as follows:</p>
<ul class="simple">
<li><p><strong>Generic Core-specific Driver Library</strong> :
ti.drv.&lt;module&gt;.&lt;core_specific_extension&gt;</p></li>
</ul>
<p>Example: ti.drv.gpio.aa15fg (A15 core-specific GPIO driver library)</p>
<ul class="simple">
<li><p><strong>SOC-specific Driver Library</strong>:
ti.pdk.&lt;module&gt;.&lt;soc&gt;.&lt;core_specific_extension&gt;</p></li>
</ul>
<p>Example: ti.drv.gpio.am572x.aa15fg (A15 GPIO driver library for AM572x)</p>
<p>When using the core-specific driver library, users are required to
provide SOC-specific driver initialization structures that provide
information regarding the module instance used, interrupt numbers,
configuration modes, etc.</p>
<p>The SOC-specific driver library contains a default configuration
(provided in &lt;module&gt;_soc.c file) built into the library that gets used
to initialize the driver on TI EVMs and to run sample applications
provided in driver package. It may need to be modified to suit for a
custom board and/or target application. The default configuration
includes a specific peripheral instance, interrupt configuration, etc.</p>
<p class="rubric" id="how-to-create-arm-baremetal-ccs-project-that-link-to-pdk-driver-libraries-using-gnu-linker">How to create ARM baremetal CCS project that link to PDK
driver libraries using GNU Linker?</p>
<p>The static libraries in Platform development kit (PDK) drivers use the
convention ti.drv.&lt;module&gt;.a&lt;ARM extension&gt;. For example, the UART
driver library for A15 is named “ti.drv.uart.aa15fg”. This is different
form the convention of naming the libraries with a suffix of “lib” and
extension “.a” which is generally the case for ARM compiler libraries
(e.g., librdimon.a, libgcc.a, libm.a). This is usually not an issue when
building applications using GCC compiler and make/gmake as libraries can
be linked using “-l” option. However, when building bare-metal (no-OS)
ARM projects in CCS, the IDE expects the libraries to have the name with
suffix “lib” and extension “.a”. If developers try to link libraries
which does not follow this convention, they observe a linking error that
mentions that the library doesn`t exist. There are a couple of work
around options available to users when working with baremetal PDK driver
libraries:</p>
<p><strong>Option 1:</strong> Add a colon in front of the library name when adding the
ARM driver library to “Build Settings”-&gt;”GNU Linker”-&gt;”Libraries” as
shown below:</p>
<img alt="../_images/Bare-metal_driver_link.png" src="../_images/Bare-metal_driver_link.png" />
<p><strong>Option 2:</strong> Add driver libraries using linker command file using the
INPUT syntax</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">INPUT</span><span class="p">(</span>
  <span class="s">&quot;C:</span><span class="se">\t</span><span class="s">i\pdk_am335x_1_0_6\packages</span><span class="se">\t</span><span class="s">i\drv\gpio\lib</span><span class="se">\a</span><span class="s">8</span><span class="se">\r</span><span class="s">elease</span><span class="se">\t</span><span class="s">i.drv.gpio.profiling.aa8fg&quot;</span>
  <span class="s">&quot;C:</span><span class="se">\t</span><span class="s">i\pdk_am335x_1_0_6\packages</span><span class="se">\t</span><span class="s">i\utils\profiling\lib</span><span class="se">\a</span><span class="s">8</span><span class="se">\r</span><span class="s">elease</span><span class="se">\t</span><span class="s">i.utils.profiling.aa8fg&quot;</span>
  <span class="s">&quot;C:</span><span class="se">\t</span><span class="s">i\pdk_am335x_1_0_6\packages</span><span class="se">\t</span><span class="s">i</span><span class="se">\b</span><span class="s">oard\lib\icev2AM335x</span><span class="se">\a</span><span class="s">8</span><span class="se">\r</span><span class="s">elease</span><span class="se">\t</span><span class="s">i.board.aa8fg&quot;</span>
  <span class="s">&quot;C:</span><span class="se">\t</span><span class="s">i\pdk_am335x_1_0_6\packages</span><span class="se">\t</span><span class="s">i\drv\i2c\lib</span><span class="se">\a</span><span class="s">8</span><span class="se">\r</span><span class="s">elease</span><span class="se">\t</span><span class="s">i.drv.i2c.aa8fg&quot;</span>
  <span class="s">&quot;C:</span><span class="se">\t</span><span class="s">i\pdk_am335x_1_0_6\packages</span><span class="se">\t</span><span class="s">i\drv\uart\lib</span><span class="se">\a</span><span class="s">8</span><span class="se">\r</span><span class="s">elease</span><span class="se">\t</span><span class="s">i.drv.uart.aa8fg&quot;</span>
  <span class="s">&quot;C:</span><span class="se">\t</span><span class="s">i\pdk_am335x_1_0_6\packages</span><span class="se">\t</span><span class="s">i\csl\lib</span><span class="se">\a</span><span class="s">m335x</span><span class="se">\a</span><span class="s">8</span><span class="se">\r</span><span class="s">elease</span><span class="se">\t</span><span class="s">i.csl.aa8fg&quot;</span>
  <span class="s">&quot;C:</span><span class="se">\t</span><span class="s">i\pdk_am335x_1_0_6\packages</span><span class="se">\t</span><span class="s">i\osal\lib</span><span class="se">\t</span><span class="s">irtos</span><span class="se">\a</span><span class="s">8</span><span class="se">\r</span><span class="s">elease</span><span class="se">\t</span><span class="s">i.osal.aa8fg&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="chip-support-library-csl">
<h1>11.5. Chip Support Library (CSL)<a class="headerlink" href="#chip-support-library-csl" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="are-there-any-bare-metal-examples-in-the-pdk-package">Are there any bare-metal examples in the PDK package?</p>
<p>Customers who are wanting to start bare-metal code development can refer
to the diagnostics package which uses the PDK drivers and does not rely
on the TI RTOS. There are also CSL examples included in the package
under the path ${PDK_INSTALL_PATH}\packages\ti\csl\test.</p>
<p>In addition to CSL example, the PDK contains bare-metal diagnostic test
cases that help in testing EVM functionality. These can be located under
pdk_am57xx_x_x_x\packages\ti\board\diag</p>
<p>Some of the driver examples contain a flag for BARE METAL usage of the
driver. Example: GPIO/SPI already have these flags implemented.</p>
<p class="rubric" id="can-i-read-core-specific-registers-on-multi-core-devices-supported-in-processor-sdk-rtos-using-csl-code">Can I read core-specific registers on multi-core devices
supported in Processor SDK RTOS using CSL code?</p>
<p>Yes, SDK provides CSL code to read core status and system configurations
using the CSL provided for specific core. For CSL code specific to cores
and peripherals present on your device, please refer to the header files
provided under ${PDK_INSTALL_PATH}\packages\ti\csl\src\ip.</p>
<p>A good example of where you may need to access CSL code to read
core-specific information is on a multi-core device. You can have code
shared between multiple cores and would like to use a different code
path or internal buffer based on core ID. The CSL code helps you
implement this as follows:</p>
<p>For example, if you need to read the core ID on a multi-core DSP device:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">uint32_t</span> <span class="n">coreNum</span><span class="p">;</span>
<span class="cm">/* Get the core number. */</span>
<span class="n">coreNum</span> <span class="o">=</span> <span class="n">CSL_chipReadReg</span><span class="p">(</span><span class="n">CSL_CHIP_DNUM</span><span class="p">);</span>
</pre></div>
</div>
<p>To do the same on the multi-core A15 device, you can use the following
code in the A15 CSL:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="kt">unsigned</span> <span class="kt">int</span> <span class="n">armNum</span><span class="p">;</span>
<span class="n">armNum</span> <span class="o">=</span> <span class="n">CSL_a15ReadCoreId</span><span class="p">();</span> <span class="c1">//This gets the core ID using the MPIDR in the A15</span>
</pre></div>
</div>
<p class="rubric" id="how-do-i-find-out-which-csl-header-and-source-files-apply-to-my-device">How do I find out which CSL header and source files apply to
my device?</p>
<p>The CSL package that is part of the SDK is a unified CSL that covers all
devices supported by the Processor SDK RTOS. When you link to the CSL
library or include the header files for a specific IP, the CSL library
requires users to add a MACRO definition (-D SOC_XX####) to your build
to indicate which SOC you are using. In order to locate the IP files for
your device, always look at the header file at the top of the CSL
directory pdk_&lt;device&gt;_xx_xx_xx\packages\ti\csl and the files that are
found under the SOC_XX#### corresponds to the SOC that you are using.</p>
<p>SOC-specific files can also be found under the
pdk_&lt;device&gt;_xx_xx_xx\packages\ti\csl\soc\&lt;device_name&gt;</p>
<p class="rubric" id="what-is-the-system-memory-map-used-by-the-sdk-examples">What is the system memory map used by the SDK examples?</p>
<p>The TI RTOS-based examples included in the SDK rely on the platform
definitions provided inside bios_6_xx_xx_xx\packages\ti\platforms for
partitioning the SOC memory between all the available cores on the SoC.
Please take a look at the snapshot below for AM572x:</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cm">/*  Memory Map for ti.platforms.evmAM572X</span>
<span class="cm"> *</span>
<span class="cm"> *  Virtual     Physical        Size            Comment</span>
<span class="cm"> *  ------------------------------------------------------------------------</span>
<span class="cm"> *              8000_0000  1000_0000  ( 256 MB) External Memory</span>
<span class="cm"> *</span>
<span class="cm"> *  0000_0000 0 8000_0000        100  ( 256  B) --------</span>
<span class="cm"> *              8000_0100       FF00  ( ~64 KB) --------</span>
<span class="cm"> *  0000_0000   8001_0000        100  ( 256  B) --------</span>
<span class="cm"> *              8001_0100       FF00  ( ~64 KB) --------</span>
<span class="cm"> *  0000_0000   8002_0000        100  ( 256  B) --------</span>
<span class="cm"> *              8002_0100       FF00  ( ~64 KB) --------</span>
<span class="cm"> *  0000_0000   8003_0000        100  ( 256  B) --------</span>
<span class="cm"> *              8003_0100    FE_FF00  ( ~16 MB) --------</span>
<span class="cm"> *            1 8100_0000    40_0000  (   4 MB) --------</span>
<span class="cm"> *              8140_0000    C0_0000  (  12 MB) --------</span>
<span class="cm"> *            2 8200_0000    40_0000  (   4 MB) --------</span>
<span class="cm"> *              8240_0000    C0_0000  (  12 MB) --------</span>
<span class="cm"> *            3 8300_0000    40_0000  (   4 MB) --------</span>
<span class="cm"> *              8340_0000    C0_0000  (  12 MB) --------</span>
<span class="cm"> *            4 8400_0000    40_0000  (   4 MB) --------</span>
<span class="cm"> *              8440_0000    C0_0000  (  12 MB) --------</span>
<span class="cm"> *            5 8500_0000   100_0000  (  16 MB) --------</span>
<span class="cm"> *            6 8600_0000   100_0000  (  16 MB) --------</span>
<span class="cm"> *            7 8700_0000   100_0000  (  16 MB) --------</span>
<span class="cm"> *            8 8800_0000   100_0000  (  16 MB) --------</span>
<span class="cm"> *            9 8900_0000   100_0000  (  16 MB) --------</span>
<span class="cm"> *            A 8A00_0000    80_0000  (   8 MB) IPU1 (code, data), benelli</span>
<span class="cm"> *              8A80_0000    80_0000  (   8 MB) IPU2 (code, data), benelli</span>
<span class="cm"> *            B 8B00_0000   100_0000  (  16 MB) HOST (code, data)</span>
<span class="cm"> *            C 8C00_0000   100_0000  (  16 MB) DSP1 (code, data)</span>
<span class="cm"> *            D 8D00_0000   100_0000  (  16 MB) DSP2 (code, data)</span>
<span class="cm"> *            E 8E00_0000   100_0000  (  16 MB) SR_0 (ipc)</span>
<span class="cm"> *            F 8F00_0000   100_0000  (  16 MB) --------</span>
<span class="cm"> */</span>
</pre></div>
</div>
<p>For bare-metal code, users are required to use a linker command file for
each of the cores and partition the memory manually so that there is no
memory overlap in the applications running on each of the cores. For
bare-metal linker command files, you can refer to the CCS templates for
<a class="reference external" href="Examples_and_Demonstrations.html#no-os-bare-metal-example">Hello World</a>
or the linker command file used in the common folder of the the
diagnostics package.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="board-support">
<h1>11.6. Board Support<a class="headerlink" href="#board-support" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="what-steps-are-involved-when-creating-a-new-custom-board-library">What steps are involved when creating a new custom board
library?</p>
<p>The board library consolidates all the board-specific information so
that all the modifications made when moving to a new custom platform
using the SOC can be made in the source of this library. The following
steps are involved in creating custom board library:</p>
<ul class="simple">
<li><p><strong>Modify SOC Clock Settings</strong> The core clocks and module clocks used
on the custom board library may vary based on the power requirements
and external components used on the boards. TI provides <a class="reference external" href="http://www.ti.com/tool/CLOCKTREETOOL">Clock Tree
Tools</a> to simulate the
device clocks. We recommend that you test the settings in CCS by
creating a GEL file with the modified settings before modifying the
source in the board library.</p></li>
<li><p><strong>Modify SOC DDR:</strong> The board library has the correct DDR
initialization sequence to initialize the DDR memory on your board.
You may need to make changes to the AC timings, hardware leveling,
and DDR PHY configuration, some or all of which may be different than
the TI supported platforms. We recommend that you test the settings
in CCS by creating a GEL file with the modified settings before
modifying the source in the board library.</p></li>
</ul>
<p><strong>Useful DDR Configuration Resources</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 65%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Sitara Resources:</p></th>
<th class="head"><p>Keystone Resources:</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference external" href="http://www.ti.com/lit/pdf/sprac36">AM57x EMIF Tools</a></p></td>
<td><p><a class="reference external" href="http://www.ti.com/lit/pdf/sprabx7">KeyStone II DDR Guide</a></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference external" href="http://processors.wiki.ti.com/index.php/AM437x_DDR_Configuration_and_Programming_Guide">AM437x DDR Configuration Guide</a></p></td>
<td><p><a class="reference external" href="http://www.ti.com/lit/pdf/sprac04">KeyStone II DDR Debug Guide</a></p></td>
</tr>
<tr class="row-even"><td><p><a class="reference external" href="http://processors.wiki.ti.com/index.php/AM335x_EMIF_Configuration_tips">AM335x/AM11x EMIF ConfigurationTools</a></p></td>
<td><p><a class="reference external" href="http://www.ti.com/lit/pdf/sprabl2">KeyStoneI DDR Initialization</a></p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p><strong>Modify SoC Pin Mux Settings.</strong> The Pin Mux configuration for a
particular platform is obtained by creating a .pinmux project for the
device using the <a class="reference external" href="http://www.ti.com/tool/PINMUXTOOL">TI Pin Mux
Tools</a> available on ti.com. The
output of the tool can be plugged into the board library to modify
the default configuration. The default baseline Pin Mux project
(boardname.pinmux) is included in the board library for reference.</p></li>
<li><p><strong>Modify IO Instance and Configuration to Match Use Case:</strong> If your
custom board uses an IO instance different from the TI-supported
board, the instance needs to be modified in the Pin Mux setup as well
as in the board_cfg.h file in
pdk_xx_Xx_xx_xx/packages/ti/board/src/&lt;customBoardName&gt;/</p></li>
<li><p><strong>Modify Files Corresponding to External Board Components:</strong> The
custom board may have external components (flash devices, Ethernet
PHY, etc.) that are different from the components populated on the
TI-supported EVM. These components and their support files need to be
added to the
pdk_xx_Xx_xx_xx/packages/ti/board/src/&lt;customBoardName&gt;/device path
and linked as part of the board library build.</p></li>
</ul>
<p>The above steps have been explained in detail in <strong>Section 9</strong> of the
<strong>`Application Development Using Processor SDK RTOS
Training &lt;http://training.ti.com/application-development-using-processor-sdk-rtos/index.html&gt;`__</strong>.
The slides talk about the different aspects of porting Processor SDK 3.0
to your custom platform, including incorporating custom Pin Mux,
clocking, peripheral instance, etc.</p>
<p>Adding custom board to the PDK directory structure and build setup is
described in the article
<a class="reference external" href="How_to_Guides.html#adding-custom-board-library-target-to-processor-sdk-rtos-makefiles">Adding_Custom_Board_Library_Target_to_Processor_SDK_RTOS_makefiles</a></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>TI evaluation platforms for Sitara Processors usually have board
information stored in an EEPROM which checks for revision number and
board name which is used to configure the board. When creating a custom
platform if you don`t intend to use an EEPROM then we recommend removing
code corresponding to Board_getIDInfo in your board library</p>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="do-i-need-to-do-any-post-processing-on-pdk-files-generated-by-pin-mux-utility">Do I need to do any post processing on PDK files generated
by Pin Mux Utility?</p>
<p>The Pin Mux utility is designed to automate the integration of a
custom-designed SOC pin map into the board library software. For AM335x,
AM437x, and K2G devices, the PDK files generated by the utility can be
integrated into the board library without any manual edits to the files.
For AM57x users, there are system design-level considerations that
require the user to manually select IO delay modes for specific
peripherals, which may require manual intervention before integrating
with the board library.</p>
<p>An example for modifying the Pin Mux in the board library to modify the
UART instance on AM335x is provided in the wiki article <a class="reference external" href="http://processors.wiki.ti.com/index.php/Processor_SDK_RTOS_Customization:_Modifying_Board_library_to_change_UART_instance_on_AM335x">Processor SDK
RTOS
Customization</a>.</p>
<p><strong>For More Information:</strong> Refer to <a class="reference external" href="http://training.ti.com/application-development-using-processor-sdk-rtos/index.html">Application Development Using
Processor SDK RTOS
Training</a>
and <a class="reference external" href="http://www.ti.com/lit/pdf/sprac44">Application Notes on AM57xx Pin Multiplexing
Utilities</a>.</p>
<p class="rubric" id="how-can-i-modify-pll-settings-in-board-libraries">How can I modify PLL settings in board libraries?</p>
<p>The SOC board library in the PDK configures the SOC PLL and module clock
settings to the nominal settings required to be used with the TI
evaluation platform. If you want to use different clock settings due to
power consideration, or if you are using a variant of the device that
needs to be clocked differently, you can enter the PLL and clock
settings in the board library. All of the PLL and module clock settings
are consolidated in the following files:</p>
<ul class="simple">
<li><p>&lt;Board&gt;.c: Contains calls related to all board-level initialization.
&lt;Board&gt; refers to the evaluation platform (For example, evmam335x)</p></li>
<li><p>&lt;EVM&gt;_pll.c: Defines the Board_PLLInit() function that configures the
dividers and multipliers for the clock tree.</p></li>
<li><p>&lt;EVM&gt;_clock.c: Defines clock dividers, scalars, and multipliers for
individual board modules initialized using the board library.</p></li>
</ul>
<p class="rubric" id="can-you-provide-an-example-of-modifying-a-board-library-to-use-a-different-peripheral-instance-as-compared-to-the-evm-design">Can you provide an example of modifying a board library to
use a different peripheral instance as compared to the EVM design?</p>
<p>A good example of the steps involved in modifying a peripheral instance
is provided in the application note “<a class="reference external" href="http://www.ti.com/lit/pdf/sprac32">Processor SDK RTOS Customization:
Modifying UART
Instance</a>”</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="secondary-bootloader">
<h1>11.7. Secondary Bootloader<a class="headerlink" href="#secondary-bootloader" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="what-board-initialization-is-required-in-the-application-after-booting-using-the-secondary-boot-loader-sbl">What board initialization is required in the application
after booting using the Secondary Boot Loader (SBL)?</p>
<p>SBL calls the board library to set up the PLL clock, DDR, and Pin Mux,
and to power on slave cores and the I/O peripheral from which it will
boot the application. Excluding those just mentioned, any other
configuration need to be done from the application code. As long as you
have added all of the device initialization to the board library, you
will not need to add any initialization code in the application.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For AM57xx devices, the AVS and ABB settings required for all core rails
is added to the SBL code, as this initialization is required only in a
production environment.</p>
</div>
<p class="rubric" id="where-do-i-locate-flashing-and-boot-utilities-in-the-package">Where do I locate flashing and boot utilities in the
package?</p>
<p>The documentation for the booting and flashing of images to EVMs using
Processor SDK RTOS is provided from the wiki article <a class="reference internal" href="index_Foundational_Components.html#fc-boot-label"><span class="std std-ref">Processor SDK RTOS
Boot Documentation</span></a></p>
<p>The <a class="reference internal" href="index_Foundational_Components.html#fc-boot-label"><span class="std std-ref">Boot and Flashing Utilities</span></a>
for all devices is located in the PDK package under the path
pdk_&lt;device_name&gt;_x_x_x\packages\ti\boot\sbl\tools.</p>
<p>The SDK provides secondary bootloader code for all devices, which is
loaded by the ROM bootloader. The SBL is responsible for device
initialization, waking up secondary cores, and deployment of the
application code on different cores on multi-core devices. On single
core devices, the SBL is used to manage the device initialization, as
well as loading and running applications on the device.</p>
<p>Depending on the boot design you need to implement, the boot and
flashing tools that are used for formatting and booting the SBL can also
be leveraged to format and boot the application image directly. The
flash-writing utilities for different EVMs can be located under the path
pdk_&lt;device_name&gt;_x_x_x\packages\ti\boot\sbl\tools\flashWriter.</p>
<p>If the intent is to restore the KeyStone II EVM to factory settings,
then the <a class="reference external" href="How_to_Guides.html#flash-bootable-images-c66x-k2h-k2e-k2l-only">Program EVM Script</a>
enables users to program the flash on the EVM using the pre-built
firmware images provided by TI/board manufacturer.</p>
<p class="rubric" id="why-my-sd-card-stopped-booting-with-the-latest-processor-sdk-bootloader">Why my SD card stopped booting with the latest Processor SDK bootloader ?</p>
<p>The FATFS library of processor SDK expects the SD card FAT partition entry should be
in a specific format. The SD card may be having a different partition entry than the
FATFS library that expects to process the media. The user has to reformat the SD card.
The documentation for formatting the SD card through windows or linux is provided from
the wiki article <strong>SDK Create SD Card Script</strong> for <a class="reference external" href="index_overview.html#windows-sd-card-creation-guide">Windows</a>
and <a class="reference external" href="index_overview.html#tools-create-sd-card-linux-label">Linux</a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="diagnostics">
<h1>11.8. Diagnostics<a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="how-to-i-test-my-evm-functionality-can-i-use-the-same-tests-on-my-custom-platform">How to I test my EVM functionality? Can I use the same tests
on my custom platform?</p>
<p>The Processor SDK RTOS provides unit tests to test interfaces on the EVM
as part of diagnostics package that can be found in the package in the
path pdk_&lt;device_namme&gt;_x_x_x\packages\ti\board\diag. It also provides a
framework to run each of these tests through a command line serial
interface. Users can either load the tests using an emulator or they can
load them over an SD card to test the EVM functionality.</p>
<p>These tests, like all other examples in the SDK, rely on the board
library to perform the SOC and board initialization. So if you have
modified the board library to account for the components on your custom
hardware, then you should be able to re-use the diagnostic tests while
bringing up your custom hardware. Users will link to the new board
library and rebuild the diagnostics package to leverage these examples
on the custom hardware.</p>
<p><strong>How to test Keystone II serdes interface?</strong></p>
<p>For Keystone II Serdes, there is also a Serdes diagnostics package which can be found in the path pdk_k2hk/k2e_x_x_x\packages\ti\diag\serdes_diag.
The tests run on C66x and cover BER, EYE and PRBS.</p>
<p>For common Keystone I/II Serdes debug, please refer to <a class="reference external" href="http://www.ti.com/lit/an/sprac37/sprac37.pdf">SERDES Link Commissioning on
KeyStone I and II Devices</a>”</p>
<blockquote>
<div><div class="line-block">
<div class="line"><br /></div>
</div>
</div></blockquote>
</div>
<div class="section" id="filesystem-support">
<h1>11.9. Filesystem Support<a class="headerlink" href="#filesystem-support" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="what-filesystem-support-if-provided-by-processor-sdk-rtos-can-i-use-ubifs-ramfs-or-fatfs-with-ti-rtos-when-using-external-non-volatile-memory-devices">What filesystem support if provided by Processor SDK RTOS ?
Can I use UBIFS, RAMFS, or FATFS with TI RTOS when using external
non-volatile memory devices?</p>
<p>Processor SDK RTOS only supports use of FATFS filesystem for some
devices. For availability of support for your devices check the <a class="reference external" href="Release_Specific.html#release-notes">Release
Notes</a>
There are numerous examples for using FATFS with USB driver and SD/MMC
driver in the SDK that you can use for reference. The FATFS-specific
documentation for Processor SDK RTOS is available in the <a class="reference external" href="Device_Drivers.html#fatfs">FATFS wiki
section of the Processor SDK RTOS</a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="ti-rtos">
<h1>11.10. TI RTOS<a class="headerlink" href="#ti-rtos" title="Permalink to this headline">¶</a></h1>
<div class="section" id="useful-resources">
<h2>11.10.1. Useful Resources<a class="headerlink" href="#useful-resources" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p><a class="reference external" href="http://processors.wiki.ti.com/index.php/SYS/BIOS_FAQs">SYSBIOS
FAQ</a></p></li>
<li><p><a class="reference external" href="http://processors.wiki.ti.com/index.php/Processor_SDK_RTOS:_TI_RTOS_Tips_And_Tricks">Processor_SDK_RTOS:_TI_RTOS_Tips_And_Tricks</a></p></li>
<li><p><a class="reference external" href="https://training.ti.com/ti-rtos-workshop-series">TI RTOS
Worskshop</a></p></li>
<li><p><a class="reference external" href="http://processors.wiki.ti.com/index.php/SYS/BIOS_with_GCC_(CortexA)">SYS/BIOS_with_GCC_(CortexA)</a></p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="how-do-i-start-writing-my-ti-rtos-application-code-is-there-any-documentation-that-describes-the-process">How do I start writing my TI RTOS application code? Is there
any documentation that describes the process?</p>
<p>The typical recommendation is to start a TI RTOS project using the
predefined templates provided as part of CCS installation and then add
custom configuration on top of it. CCS allows users to create a TI RTOS
project with Minimum, Typical, and a set of generic examples, as you can
see from wiki <a class="reference external" href="Release_Specific.html#release-notes">Processor SDK RTOS TI RTOS Getting Started
Examples</a>.</p>
<p>Other than that, there is an TI RTOS workshop that addresses different
features and use cases of TI RTOS with CCS: <a class="reference external" href="http://processors.wiki.ti.com/index.php/Introduction_to_the_TI-RTOS_Kernel_Workshop">Introduction to the TI-RTOS
Kernel
Workshop</a></p>
<p>The TI RTOS component also ships with user documentation that provides
information on configuring TI RTOS through scripts APIs and also using
the graphical XGCONF tool. Full online API and module documentation is
available here: <a class="reference external" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_sb/targetcontent/sysbios/6_46_00_23/exports/bios_6_46_00_23/docs/cdoc/index.html">TI RTOS API
Documentation</a></p>
<p class="rubric" id="what-interrupt-latency-foot-print-etc-can-i-expect-while-using-ti-rtos">What interrupt latency, foot print, etc. can I expect while
using TI RTOS?</p>
<p>Performance and size benchmarks are available for every released
SYS/BIOS kernel in the TI RTOS package and are shipped as part of the
standard product documentation. In addition to the benchmark numbers
themselves, .pdf files provide a detailed description of how the
benchmarks were implemented. For example, whether they were implemented
in internal or external memory..</p>
<p>If you do not have access to a release, you can access the release notes
(and thereby the benchmarks) online by clicking on the following link
and going to the download link for the TI RTOS version that is part of
the SDK.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://software-dl.ti.com/dsps/dsps_public_sw/sdo_sb/targetcontent/bios/sysbios/index.html">SYS/BIOS
Releases</a></p></li>
</ul>
<p>This link enables you to access any TI RTOS products and their
associated release notes. The release notes may be browsed directly.
There is no need to download the whole product. You will need to have a
my.ti login to access this site.</p>
<p>Within the SDK package, TI-RTOS Benchmark Documentation can be found
under directory path
<em>bios_6_xx_xx_xx\packages\ti\sysbios\benchmarks\doc-files</em></p>
<p class="rubric" id="how-do-i-debug-ti-rtos-and-driver-code">How do I debug TI-RTOS and driver code?</p>
<p>In order to single step through code, the driver libraries and the TI
RTOS libraries should be built with complete symbol definition.</p>
<p>For building a debug-able version of TI RTOS, please refer to the
following article:
<a class="reference external" href="http://processors.wiki.ti.com/index.php/SYS/BIOS_FAQs#1_Making_a_debug-able_Custom_SYS.2FBIOS_Library">Making_a_debug-able_Custom_SYSBIOS_Library</a></p>
<p>Processor SDK RTOS drivers are already built with full symbol
definition. So you should be able to single step into the drivers in the
CCS IDE environment. <strong>Note</strong>: You may need to add the source of the
SYS/BIOS and the drivers in the source search path in CCS.</p>
<p>Advanced debug of TI RTOS applications using system analyzer and ROV
object viewer is described in the <a class="reference external" href="http://processors.wiki.ti.com/index.php/How_is_SYS/BIOS_related_to_System_Analyzer%3F">TI RTOS SYSTEM Anlayzer
wiki</a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="how-can-i-run-ti-rtos-on-secondary-arm-cores-on-multi-core-arm-devices">How can I run TI RTOS on secondary ARM cores on multi-core
ARM devices</p>
<p>Processor SDK RTOS supports multiple device that have multi-core ARM
like AM572x and Keystone2 devices. In order to run TI RTOS application
on the secondary ARM core in non-SMP mode, application developers need
to add correct coreID to the configuration to their BIOS configuration
to allow the hardware interrupts to be routed to the secondary core.</p>
<p>For example on AM572x which has 2 A15 cores, to run the TI RTOS example
on secondary ARM core, application users need to add :</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>var Core = xdc.useModule(&#39;ti.sysbios.family.arm.ducati.Core&#39;);
Core.id = 1;
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p class="rubric" id="why-do-i-get-a-undefined-reference-to-ti-sysbios-rts-gnu-reentsupport-checkifcorrectlibrary-error-when-compiling-my-application">Why do I get a “undefined reference to
`ti_sysbios_rts_gnu_ReentSupport_checkIfCorrectLibrary’” error when
compiling my application?</p>
<p>You may have encountered this error when building an application for ARM
using makefile and not using CCS. You will need to link in the proper C
runtime library from SYS/BIOS. Double check the makefile(s) and make
sure that you are using libc, libgcc, libm, etc. from the SYS/BIOS
package and not from your toolchain (GCC Linaro).</p>
<p>For additional information, refer to: <a class="reference external" href="http://processors.wiki.ti.com/index.php/SYS/BIOS_with_GCC_(CortexA)#What_do_I_need_to_do_to_make_the_C_runtime_library_re-entrant_when_building_SYS.2FBIOS_applications_for_Cortex-A_GNU_targets.C2.A0.3F">What do I need to do to make the
C runtime library re-entrant when building SYS/BIOS applications for
Cortex-A GNU
targets</a></p>
<p class="rubric" id="where-do-i-post-questions-on-generic-ti-rtos">Where do I post questions on generic TI RTOS?</p>
<p>We recommend that all TI RTOS users review the list of TI RTOS
frequently asked questions on the <a class="reference external" href="http://processors.wiki.ti.com/index.php/SYS/BIOS_FAQs">TI RTOS
FAQ</a> page
prior to posting the questions on the E2E forum. If the question is not
specific to the Processor SDK RTOS drivers, but relates to configuration
of a specific module inside TI RTOS, then please post the questions on
the <a class="reference external" href="https://e2e.ti.com/support/embedded/tirtos/">TI RTOS E2E Forum</a>.</p>
<p class="rubric" id="when-load-a-rtos-example-to-dsp2-the-code-stuck-at-timer-c-before-go-main-but-the-same-worked-on-dsp1">When load a RTOS example to DSP2, the code stuck at timer.c
before go main(), but the same worked on DSP1?</p>
<p>By default, BIOS uses GPtimer5 to source the clock ticks in the BIOS
clock module. The GEL is created with the assumption that the DSP1
developers will use GPtimer5 and DSP2 users will use GPtimer6 to source
clock module. This means that DSP2 developers will need to add
configuration script to change the clock source to GPtimer6. Try to add
the following in your DSP2.cfg :</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>var Clock = xdc.useModule(&#39;ti.sysbios.knl.Clock&#39;);
Clock.timerId = 5; /* Change BIOS clock to GPTimer6 */
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
<div class="section" id="networking-support">
<h1>11.11. Networking Support<a class="headerlink" href="#networking-support" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="can-i-use-ndk-software-stack-on-all-devices-supported-in-processor-sdk-rtos">Can I use NDK software stack on all devices supported in
Processor SDK RTOS?</p>
<p>The NDK software stack provided by TI typically requires a transport
layer called Network Interface Management Unit (NIMU) layer to interface
the underlying platform software elements and device drivers. Please
check the <a class="reference external" href="Release_Specific.html#release-notes">Processor SDK RTOS Release Notes</a>
for support of the NIMU transport driver to determine if NDK software
can be utilized on your device.</p>
<p class="rubric" id="where-do-i-find-the-documentation-for-the-ndk-stack">Where do I find the documentation for the NDK stack?</p>
<p>All the networking-related documentation for Processor SDK RTOS, along
with the NDK software stack, is linked from the wiki <a class="reference external" href="http://processors.wiki.ti.com/index.php/Processor_SDK_RTOS_NDK#Additional_Documentation_References">NDK Documentation
and
References</a>.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="inter-processor-communication-ipc">
<h1>11.12. Inter-processor Communication (IPC)<a class="headerlink" href="#inter-processor-communication-ipc" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="how-do-i-build-and-run-ipc-examples">How do I build and run IPC examples?</p>
<p>IPC and corresponding examples are designed to be built from the top
level <a class="reference external" href="Overview.html#additional-targets">Processor SDK RTOS IPC Make Target</a>.
Please ensure the <a class="reference external" href="Overview.html#additional-targets">Processor SDK RTOS build</a>
environments have been set up before running the “make ipc_bios” or
[make ipc_examples] option.</p>
<p>The documentation to run the IPC examples is provided as part of
ReadMe.txt in the IPC examples or on a device-specific wiki article like
<a class="reference external" href="How_to_Guides.html#run-ipc-examples-on-am572x">How to Run AM57x IPC
Examples</a>.</p>
<p class="rubric" id="where-can-i-locate-ipc-faq-document">Where can I locate IPC FAQ document?</p>
<p>For IPC-related questions, please refer to the <a class="reference external" href="http://processors.wiki.ti.com/index.php/IPC_3.x_FAQ">IPC FAQ wiki
article</a> that
consolidates the FAQ across all multi-core TI processors.</p>
<p class="rubric" id="how-can-i-run-ti-rtos-ipc-examples-on-am57xx-devices">How can I run TI RTOS IPC examples on AM57xx devices?</p>
<p>The instructions to run the IPC examples on AM57xx are provided in the
wiki article “<a class="reference external" href="How_to_Guides.html#run-ipc-examples-on-am572x">Running IPC Examples on
AM57xx/DRA7xx</a>”</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="dsp-optimized-libraries">
<h1>11.13. DSP-Optimized Libraries<a class="headerlink" href="#dsp-optimized-libraries" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="why-did-i-encounter-a-build-issue-while-rebuilding-dsplib-imglib-or-mathlib-with-c6000-cgt-8-x">Why did I encounter a build issue while rebuilding DSPLIB,
IMGLIB, or MATHLIB with C6000 CGT 8.x?</p>
<p>This is a known issue. Please refer to the note provided on the
<a class="reference external" href="http://processors.wiki.ti.com/index.php/Software_libraries#Library_Object_File_Format">Software Libraries
wiki</a>
to fix the issue.</p>
<p class="rubric" id="why-does-the-performance-of-the-dsp-libraries-not-match-with-the-performance-in-the-documentation">Why does the performance of the DSP Libraries not match with
the performance in the documentation?</p>
<p>The performance documented in the optimized DSP libraries that are part
of the Processor SDK RTOS has been obtained using a C66x simulator
interface which only works with a flat memory model. In order to obtain
performance similar to the documentation, the user is expected to
perform the SOC-specific optimization. This includes placing the data
buffers in internal DSP memory, using optimized compiler settings in the
application code, enabling cache if buffers are in DDR memory, enabling
EDMA for moving data from external memory to L2, etc.</p>
<p>The CSL libraries for the SOC and TI RTOS provide APIs for cache
management of instruction memory as well as data memory. There are some
useful documents that enable benchmarking on the DSP and ARM cores.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.ti.com/lit/pdf/sprabf2">Introduction to DSP
Optimization</a></p></li>
<li><p><a class="reference external" href="http://www.ti.com/lsds/ti/processors/technology/benchmarks/core-benchmarks.page">TI portal for Core
Benchmarking</a></p></li>
<li><p><a class="reference external" href="http://www.ti.com/lit/pdf/sprac13">TI DSP Benchmarking Application
Report</a></p></li>
</ul>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="edma-library">
<h1>11.14. EDMA Library<a class="headerlink" href="#edma-library" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="how-do-i-resolve-edma-instance-usage-conflict">How do I resolve EDMA instance usage conflict?</p>
<p>There are several RTOS driver example projects using EDMA (e.g., PCIE,
SPI, UART, and MMCSD). These projects typically can run on A15, DSP, or
M4 cores. As a driver example, these projects use the first EDMA
instance (EDMA #0), assuming that no others are using it at the system
level.</p>
<p>There may be an issue if the EDMA instance #0 is already being used in
the system. For example, if the A15 core runs Linux and uses the EDMA #0
already, and a user wants to run a Processor SDK RTOS example on C66x
with default EDMA #0. To resolve such an issue, please choose an unused
instance. For example, EDMA #1 in the example.</p>
<p class="rubric" id="ccs-7-1-platform-cant-be-verified-warning">CCS 7.1 platform can’t be verified warning</p>
<p class="rubric" id="when-i-use-ccs-7-1-for-processor-sdk-rtos-4-0-projects-i-saw-a-warning-platform-name-ti-platforms-xxxxxx-could-not-be-verified-your-project-may-not-build-as-expected">When I use CCS 7.1 for Processor SDK RTOS 4.0 projects, I
saw a warning “Platform name ‘ti.platforms.xxxxxx’ could not be
verified. Your project may not build as expected.”</p>
<p>The warning shows in Properties—-&gt;General of a CCS project in CCS 7.1.
The warning is due to a change made in CCS 7.1, whereby the User
Interface tries to verify the project’s target/platform name against a
list of known names and if it cannot be verified then it shows the
warning. The warning, in itself, does not necessarily mean that the
target-name is incorrect. Especially in this case where we are looking
at a known good project, it is likely showing up because the known
target-names list it is checking against is incomplete. Hence you can
treat the warning as harmless and ignore it. This causes some confusion
we have decided to remove the warning in the next release of CCS.</p>
<p class="rubric" id="keystone-i-and-ii-devices-sgmiimdiophy">Keystone I and II devices SGMII/MDIO/PHY</p>
<p class="rubric" id="how-to-setup-sgmii-interface-to-a-phy-or-to-another-sgmii-port-without-using-a-phy">How to setup SGMII interface to a PHY or to another SGMII
port without using a PHY?</p>
<p>There are 3 SGMII connectivity modes: • SGMII port with PHY attached and
auto-negotiation enabled - for connecting to an external PHY • SGMII
master to SGMII slave with auto-negotiation enabled - this is for
connecting two SGMII devices, one has to be set as master and the other
as slave • SGMII port to SGMII port with forced link configuration –
generally this is used when one of the ports does not support
auto-negotiation</p>
<p>When a device having an SGMII MAC port is connected to a PHY device, the
SGMII MAC is the slave in this link and the PHY is the master. The link
is established using auto-negotiation across the SGMII link that is
initiated by the master with an expected response by the slave. If the
auto-negotiation is not initiated by the link master (PHY), the link
will remain down. In TI Keystone EVMs, the Processor with an SGMII MAC
port is connected to a PHY, which provides a copper interface to a
Gigabit RJ-45 connector. The Processor’s SGMII MAC port is configured as
a slave with auto-negotiation enabled. This is done in the Init_SGMII().</p>
<p>When a SGMII MAC port is connected to another SGMII MAC port and
auto-negotiation is enabled, one must be configured to emulate a master
while the other is a slave. The master port uses the MR_ADV_ABILITY
register to determine speed and duplex setting instead of the
MR_LP_ADV_ABILITY register.</p>
<p>Alternately, when an SGMII MAC port is connected to another SGMII MAC
port and auto-negotiation is not enabled, or not available, a “forced
link” can be established. Again, the MR_ADV_ABILITY register determines
the speed and duplex setting. Please refer to the TI KeyStone
Architecture Gigabit Ethernet (GbE) Switch Subsystem User Guide, section
3.3, SGMII_CONTROL, MR_ADV_ABILITY and MR_LP_ADV_ABILITY registers for
detail. The corresponding CSL code is implemented in
packages\ti\csl\src\ip\sgmii\Vx\csl_cpsgmiiAux.h.</p>
<p class="rubric" id="in-a-ti-sgmii-to-fpga-phy-port-connection-data-corruption-is-observed-on-egress-direction-what-could-be-the-cause">In a TI SGMII to FPGA (PHY port) connection, data corruption
is observed on egress direction, what could be the cause?</p>
<p>First to check if the FPGA side is a PHY port or 1000BASE-X media port.
There are many similarities but they are not identical. It is important
to recognize that from an electrical point of view, the SGMII interface
is very similar to the 1000BASE-X interface. Both use 8B/10B encoding, a
serial interface and an embedded clock. Systems can operate with SGMII
connected to a media port but they are not guaranteed to operate as they
are not consistent with the Ethernet standard.</p>
<p>Also, check Rx equalization. Some FPGA may have different choices of
robust mode (dynamic feedback equalization, aka DFE) or more basic mode
(linear equalizer). The DFE allows better compensation of transmission
channel losses by providing a closer adjustment of filter parameters
than when using a linear equalizer. However, a DFE cannot remove the
pre-cursor of a transmitted bit; it only compensates for the post
cursors. Try to use basic mode to see if it helps.</p>
<p class="rubric" id="how-do-i-program-the-phy-through-mdio-interface-i-find-that-ti-init-mdio-function-is-empty">How do I program the PHY through MDIO interface? I find that
TI Init_MDIO() function is empty?</p>
<p>For some TI EVMs, Init_MDIO() is empty because that PHY is configured
using pin strapping and no MDIO control is needed to enable it to
operate through auto-negotiation in the optimum configuration. Sample
CSL code to access PHY via MDIO can be found under
packages\ti\csl\src\ip\mdio\Vx\csl_mdioAux.h. The MDIO user access
register is used to communicate with the physical transceiver connected
to the MDIO bus, not to a register of the Keystone SOC MDIO itself. The
code must be customized for what you want to get or set within the PHY.
To do this you must set the correct PHY address and then identify PHY
register that you want to access. Those registers are defined in the PHY
datasheet, not TI Keystone documents.</p>
<p>After PHY is programmed, the MDIO controller will continue polling the
PHY periodically for status. The PHY Alive Status Register (ALIVE) and
PHY Link Status Register (LINK) can be read to monitor this status of
the PHY and link (please refer to the TI KeyStone Architecture Gigabit
Ethernet (GbE) Switch Subsystem User Guide, section 3.4).</p>
</div>
<div class="section" id="c-build-verification">
<h1>11.15. C++ Build Verification<a class="headerlink" href="#c-build-verification" title="Permalink to this headline">¶</a></h1>
<p class="rubric" id="how-do-i-verify-c-build-environment">How do I verify C++ build environment?</p>
<p>Cpptest application verifies C++ Build environment on the Processor SDK package. It is
located under the path $(PDK_INSTALL_PATH)/ti/osal/test
This is a simple application with a print message. The application includes top level header
files of all components in the PDK package and is built in C++ build environment.
The header files are included dynamically for AM57xx and K2G platforms and statically
included for AM335x and AM437x platforms.</p>
<div class="section" id="platforms-supported">
<span id="platform-supported"></span><h2>11.15.1. Platforms Supported<a class="headerlink" href="#platforms-supported" title="Permalink to this headline">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 24%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
<col style="width: 11%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head" rowspan="2"><p>SOC</p></th>
<th class="head" rowspan="2"><p>BOARD NAMES</p></th>
<th class="head" colspan="5"><p>CORE</p></th>
</tr>
<tr class="row-even"><th class="head"><p>a8host</p></th>
<th class="head"><p>a9host</p></th>
<th class="head"><p>a15_0</p></th>
<th class="head"><p>c66x</p></th>
<th class="head"><p>ipu1_0</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td rowspan="5"><p>AM335x</p></td>
<td><p>evmAM335x</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>icev2AM335x</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>iceAMIC110</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>skAM335x</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>bbbAM335x</p></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td rowspan="3"><p>AM437x</p></td>
<td><p>evmAM437x</p></td>
<td></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>idkAM437x</p></td>
<td></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p>skAM437x</p></td>
<td></td>
<td><p>X</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td rowspan="4"><p>AM57xx</p></td>
<td><p>idkAM571x</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>idkAM572x</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td><p>idkAM574x</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-even"><td><p>evmAM572x</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td><p>X</p></td>
</tr>
<tr class="row-odd"><td rowspan="2"><p>K2G</p></td>
<td><p>evmK2G</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>iceK2G</p></td>
<td></td>
<td></td>
<td><p>X</p></td>
<td><p>X</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>where,</p>
<p>X - supported</p>
</div>
<div class="section" id="build-setup">
<h2>11.15.2. Build Setup<a class="headerlink" href="#build-setup" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>For Windows : Download and install <a class="reference external" href="http://strawberryperl.com/download/5.28.0.1/strawberry-perl-5.28.0.1-64bit.msi">Strawberry Perl</a>.</p></li>
<li><p>For Linux : Execute the command “sudo apt-get -y install perl” at the linux
command prompt.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is an one-time installation and need not be repeated for every build.</p>
</div>
</div>
<div class="section" id="steps-to-build">
<h2>11.15.3. Steps to Build<a class="headerlink" href="#steps-to-build" title="Permalink to this headline">¶</a></h2>
<p>The following are the steps to build and test the Cpptest Application.</p>
<ol class="arabic simple">
<li><p>Build the PDK package</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Building PDK package completely is neccessary before invoking a build on Cpptest
application.</p>
</div>
<ul class="simple">
<li><p>For Windows:</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>cd $(PDK_INSTALL_PATH)
pdksetupenv.bat
gmake all
</pre></div>
</div>
<ul class="simple">
<li><p>For Linux:</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span>cd $(PDK_INSTALL_PATH)
source pdksetupenv.sh
make all
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Invoke the Cpptest application build, using the following commands.</p></li>
</ol>
<ul class="simple">
<li><p>For Windows:</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">ti</span><span class="o">/</span><span class="n">osal</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">cpptest</span>
<span class="n">gmake</span> <span class="n">BOARD</span><span class="o">=&lt;</span><span class="n">board_name</span><span class="o">&gt;</span>  <span class="n">CORE</span><span class="o">=&lt;</span><span class="n">core</span><span class="o">&gt;</span> <span class="n">CPLUSPLUS_BUILD</span><span class="o">=</span><span class="n">yes</span>
<span class="nl">Example</span><span class="p">:</span>
<span class="n">gmake</span> <span class="n">BOARD</span><span class="o">=</span><span class="n">idkAM572x</span>  <span class="n">CORE</span><span class="o">=</span><span class="n">a15_0</span> <span class="n">CPLUSPLUS_BUILD</span><span class="o">=</span><span class="n">yes</span>
</pre></div>
</div>
<ul class="simple">
<li><p>For Linux:</p></li>
</ul>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">ti</span><span class="o">/</span><span class="n">osal</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">cpptest</span>
<span class="n">make</span> <span class="n">BOARD</span><span class="o">=&lt;</span><span class="n">board_name</span><span class="o">&gt;</span>  <span class="n">CORE</span><span class="o">=&lt;</span><span class="n">core</span><span class="o">&gt;</span> <span class="n">CPLUSPLUS_BUILD</span><span class="o">=</span><span class="n">yes</span>
<span class="nl">Example</span><span class="p">:</span>
<span class="n">make</span> <span class="n">BOARD</span><span class="o">=</span><span class="n">idkAM572x</span>  <span class="n">CORE</span><span class="o">=</span><span class="n">a15_0</span> <span class="n">CPLUSPLUS_BUILD</span><span class="o">=</span><span class="n">yes</span>
</pre></div>
</div>
<p>Refer section <a class="reference internal" href="#platform-supported"><span class="std std-ref">Platforms Supported</span></a> for the BOARD and CORE names.</p>
<ol class="arabic simple" start="3">
<li><p>Upon successful build, the application binaries are created under
$(PDK_INSTALL_PATH)/ti/binary/cpptest/bin/&lt;board_name&gt;</p></li>
</ol>
</div>
<div class="section" id="running-the-application">
<h2>11.15.4. Running the Application<a class="headerlink" href="#running-the-application" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li><p>Launch CCS and and switch to the Debug Perspective.</p></li>
<li><p>Launch the Target configuration and connect to the target.</p></li>
<li><p>Load the binaries to the selected core using Run-&gt;Load-&gt;Load Program.If you need help in CCS setup,
refer section <a class="reference external" href="index_how_to_guides.html#setup-ccs-for-evm-and-processor-sdk-rtos">Setup CCS</a>
explaining this further.</p></li>
<li><p>Launch the serial console utility with the following configurations:</p></li>
</ol>
<ul class="simple">
<li><p>Baud Rate: 115200</p></li>
<li><p>Data : 8 bits</p></li>
<li><p>Parity : None</p></li>
<li><p>Stop : 1 bit</p></li>
<li><p>Flow Control : None</p></li>
</ul>
<p>Verified utilities are Teraterm (Windows) and Minicom (Linux).</p>
<ol class="arabic simple" start="5">
<li><p>Run the program in CCS and check for the below output on the serial console:</p></li>
</ol>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">C</span><span class="o">++</span> <span class="n">Build</span> <span class="n">Successful</span><span class="o">!</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Documentation_Tarball.html" class="btn btn-neutral float-right" title="12. Documentation Tarball" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="FAQ.html" class="btn btn-neutral" title="11. Frequently Asked Questions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
      <a href="http://www.ti.com/corp/docs/legal/copyright.shtml">&copy; Copyright 1995-2019</a>, Texas Instruments Incorporated. All rights reserved. <br>
      <a href="http://www.ti.com/corp/docs/legal/trademark/trademrk.htm">Trademarks</a> | <a href="http://www.ti.com/corp/docs/legal/privacy.shtml">Privacy policy</a> | <a href="http://www.ti.com/corp/docs/legal/termsofuse.shtml">Terms of use</a> | <a href="http://www.ti.com/lsds/ti/legal/termsofsale.page">Terms of sale</a>

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'06_01_00',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

    <script src="http://www.ti.com/assets/js/headerfooter/analytics.js" type="text/javascript" charset="utf-8"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
        });

      var menuHeight = window.innerHeight;

      var contentOffset = $(".wy-nav-content-wrap").offset();
      var contentHeight = $(".wy-nav-content-wrap").height();
      var contentBottom = contentOffset.top + contentHeight;

      function setNavbarTop() {
          var scrollTop = $(window).scrollTop();
          var maxTop = scrollTop + menuHeight;

          // If past the header
          if (scrollTop > contentOffset.top && maxTop < contentBottom) {
            stickyTop = scrollTop - contentOffset.top;
          } else if (maxTop > contentBottom) {
            stickyTop = scrollTop - contentOffset.top - (maxTop - contentBottom);
          } else {
            stickyTop = 0;
          }

          $(".wy-nav-side").css("top", stickyTop);
      }

      $(document).ready(function() {
        setNavbarTop();
        $(window).scroll(function () {
          setNavbarTop();
        });
      });
  </script>
   

</body>
</html>